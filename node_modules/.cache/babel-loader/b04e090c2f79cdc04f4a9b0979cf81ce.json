{"ast":null,"code":"import _slicedToArray from \"C:\\\\Project\\\\Front_end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Project\\\\Front_end\\\\src\\\\new_chat\\\\User.js\";\n// import React, { useEffect, useState } from \"react\";\n// import './User.css';\n// import { onSnapshot, doc } from \"firebase/firestore\";\n// import { db } from \"./firebase\";\n// const User = ({ user1, user, selectUser, chat }) => {\n//   const [data, setData] = useState(\"\");\n\n//   useEffect(() => {\n//     const user2 = user?.uid;\n//     const id = user1 > user2\n//      ? `${user1 + user2}` : `${user2 + user1}`;\n//     let unsub = onSnapshot(doc(db, \"lastMsg\", id), (doc) => {\n//       setData(doc.data());\n//     });\n//     return () => unsub();\n//   }, []);\n\n//   return(\n//     <div>\n//      <div         \n//      className={`user_wrapper ${chat.newfirstname === user.newfirstname && \"selected_user\"}`}\n//      onClick={()=>selectUser(user)}>\n//         <div className=\"user_info\">\n//           <div className=\"user_detail\">\n//           <div className=\"imgbx\">\n//                   <img src={`http://localhost:5000/images/10`} className=\"cover\"  />\n//                 </div>     \n//           <p className=\"chatName\">{user.newfirstname}</p>\n\n//           </div>\n//           <div\n//             className={`user_status ${user.isOnline ? \"online\" : \"offline\"}`}\n//           ></div>\n//         </div>\n\n//     </div>\n//     </div>\n//   )  \n// }\n// export default User;\n\nimport React, { useEffect, useState } from \"react\";\nimport Img from \"../image1.jpg\";\nimport { onSnapshot, doc } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\nvar User = function User(_ref) {\n  var user1 = _ref.user1,\n    user = _ref.user,\n    selectUser = _ref.selectUser,\n    chat = _ref.chat;\n  var user2 = user?.uid;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  useEffect(function () {\n    var id = user1 > user2 ? \"\".concat(user1 + user2) : \"\".concat(user2 + user1);\n    var unsub = onSnapshot(doc(db, \"lastMsg\", id), function (doc) {\n      setData(doc.data());\n    });\n    return function () {\n      return unsub();\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user_wrapper \".concat(chat.name === user.newfirstname && \"selected_user\"),\n    onClick: function onClick() {\n      return selectUser(user);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user_info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user_detail\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: user.avatar || Img,\n    alt: \"avatar\",\n    className: \"avatar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, user.name), data?.from !== user1 && data?.unread && /*#__PURE__*/React.createElement(\"small\", {\n    className: \"unread\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, \"New\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user_status \".concat(user.isOnline ? \"online\" : \"offline\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  })), data && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"truncate\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, data.from === user1 ? \"Me:\" : null), data.text)), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: function onClick() {\n      return selectUser(user);\n    },\n    className: \"sm_container \".concat(chat.newfirstname === user.newfirstname && \"selected_user\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: user.avatar || Img,\n    alt: \"avatar\",\n    className: \"avatar sm_screen\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  })));\n};\nexport default User;","map":{"version":3,"names":["React","useEffect","useState","Img","onSnapshot","doc","db","User","_ref","user1","user","selectUser","chat","user2","uid","_useState","_useState2","_slicedToArray","data","setData","id","concat","unsub","createElement","Fragment","className","name","newfirstname","onClick","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","src","avatar","alt","from","unread","isOnline","text"],"sources":["C:/Project/Front_end/src/new_chat/User.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\r\n// import './User.css';\r\n// import { onSnapshot, doc } from \"firebase/firestore\";\r\n// import { db } from \"./firebase\";\r\n// const User = ({ user1, user, selectUser, chat }) => {\r\n//   const [data, setData] = useState(\"\");\r\n\r\n//   useEffect(() => {\r\n//     const user2 = user?.uid;\r\n//     const id = user1 > user2\r\n//      ? `${user1 + user2}` : `${user2 + user1}`;\r\n//     let unsub = onSnapshot(doc(db, \"lastMsg\", id), (doc) => {\r\n//       setData(doc.data());\r\n//     });\r\n//     return () => unsub();\r\n//   }, []);\r\n\r\n//   return(\r\n//     <div>\r\n//      <div         \r\n//      className={`user_wrapper ${chat.newfirstname === user.newfirstname && \"selected_user\"}`}\r\n//      onClick={()=>selectUser(user)}>\r\n//         <div className=\"user_info\">\r\n//           <div className=\"user_detail\">\r\n//           <div className=\"imgbx\">\r\n//                   <img src={`http://localhost:5000/images/10`} className=\"cover\"  />\r\n//                 </div>     \r\n//           <p className=\"chatName\">{user.newfirstname}</p>\r\n            \r\n//           </div>\r\n//           <div\r\n//             className={`user_status ${user.isOnline ? \"online\" : \"offline\"}`}\r\n//           ></div>\r\n//         </div>\r\n\r\n//     </div>\r\n//     </div>\r\n//   )  \r\n// }\r\n// export default User;\r\n\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Img from \"../image1.jpg\";\r\nimport { onSnapshot, doc } from \"firebase/firestore\";\r\nimport { db } from \"../firebase\";\r\n\r\nconst User = ({ user1, user, selectUser, chat }) => {\r\n  const user2 = user?.uid;\r\n  const [data, setData] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const id = user1 > user2 ? `${user1 + user2}` : `${user2 + user1}`;\r\n    let unsub = onSnapshot(doc(db, \"lastMsg\", id), (doc) => {\r\n      setData(doc.data());\r\n    });\r\n    return () => unsub();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={`user_wrapper ${chat.name === user.newfirstname && \"selected_user\"}`}\r\n        onClick={() => selectUser(user)}\r\n      >\r\n        <div className=\"user_info\">\r\n          <div className=\"user_detail\">\r\n            <img src={user.avatar || Img} alt=\"avatar\" className=\"avatar\" />\r\n            <h4>{user.name}</h4>\r\n            {data?.from !== user1 && data?.unread && (\r\n              <small className=\"unread\">New</small>\r\n            )}\r\n          </div>\r\n          <div\r\n            className={`user_status ${user.isOnline ? \"online\" : \"offline\"}`}\r\n          ></div>\r\n        </div>\r\n        {data && (\r\n          <p className=\"truncate\">\r\n            <strong>{data.from === user1 ? \"Me:\" : null}</strong>\r\n            {data.text}\r\n          </p>\r\n        )}\r\n      </div>\r\n      <div\r\n        onClick={() => selectUser(user)}\r\n        className={`sm_container ${chat.newfirstname === user.newfirstname && \"selected_user\"}`}\r\n      >\r\n        <img\r\n          src={user.avatar || Img}\r\n          alt=\"avatar\"\r\n          className=\"avatar sm_screen\"\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default User;"],"mappings":"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"},"metadata":{},"sourceType":"module"}